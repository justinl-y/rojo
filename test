// lib/Hal.js

class Hal {
  constructor(phrase) {
    if (!phrase) throw 'A phrase is required';
    this.phrase = phrase
  }
  listen() {
    console.log(this.phrase)
    // checks if it starts with when
    if (/when.*/i.test(this.phrase)) {
      if (/.*is.*/i.test(this.phrase)) {
        if (/.*it.*/i.test(this.phrase)) {
          return "it is April 2nd, 1968"
        }
      }
      return '4:30 pm'
    }
    // checks if it starts with what
    if (/what.*/i.test(this.phrase)) {
      if (/.*is.*/i.test(this.phrase)) {
        if (/.*it.*/i.test(this.phrase)) {
          return "It's called Daisy."
        }
      }
      // checks if it contains with time
      if (/.*time.*/i.test(this.phrase)) {
        return '4:30 pm'
      }
      // checks if it contains with day
      if (/.*day.*/i.test(this.phrase)) {
        return 'Tuesday'
      }
    }
    // catch all
    throw "I am afraid I can't do that Dave."
  }
}
module.exports = Hal;
